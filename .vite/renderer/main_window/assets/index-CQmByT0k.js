(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function i(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(n){if(n.ep)return;n.ep=!0;const r=i(n);fetch(n.href,r)}})();document.getElementById("outputDir").addEventListener("click",()=>{window.presetting.openFileDialog()});document.getElementById("openOutputDir").addEventListener("click",()=>{window.presetting.openOutputDirectory()});const s=document.getElementById("dragPoint"),c=document.getElementById("dragPointSpan");s.addEventListener("dragover",t=>{t.preventDefault(),t.dataTransfer.dropEffect="copy",s.classList.add("dragover"),c.innerText="이미지를 업로드"});s.addEventListener("dragleave",()=>{s.classList.remove("dragover"),c.innerText="클릭하거나 이미지를 드래그&드랍"});s.addEventListener("drop",t=>{t.preventDefault();const e=t.dataTransfer.files;if(e.length>0){const i=Array.from(e).map(o=>({name:o.name,path:o.path,type:o.type}));window.api.send("toMain",i)}s.classList.remove("dragover"),c.innerText="클릭하거나 이미지를 드래그&드랍"});document.getElementById("imageSelecter").addEventListener("change",function(t){const e=t.target.files;if(e.length>0){const i=Array.from(e).map(o=>({name:o.name,path:o.path,type:o.type}));window.api.send("toMain",i)}});const l=document.getElementById("directionSpan");document.getElementById("directionSwitch").addEventListener("change",async t=>{t.target.checked?l.innerText="Image > Webp":l.innerText="Webp > JPG",await window.direction.toggle()});const p=document.getElementById("bar");window.api.onProgressUpdate(t=>{p.style.width=t+"%"});const d=document.getElementById("message");window.api.onSuccess((t,e,i)=>{i?d.innerHTML=`${e>1?`${t} 외 ${e-1}개 이미지 변환됨"`:`[${t}] 이미지 변환됨`}`:d.innerHTML="이미지 변환 실패",d.style.color=i?"seagreen":"tomato"});const m=document.getElementById("compressLevel");m.addEventListener("click",t=>{const e=t.target;switch(e.value=((parseInt(e.value)+1)%3).toString(),window.presetting.setQuality(e.value),e.value){case"0":e.innerHTML="하";break;case"1":e.innerHTML="중";break;case"2":e.innerHTML="상";break}});
